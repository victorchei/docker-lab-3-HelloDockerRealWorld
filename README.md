# Docker Compose –∑ MongoDB - –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ 3

## –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏

–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é Docker Compose –∑ —Ç—Ä—å–æ–º–∞ —Å–µ—Ä–≤—ñ—Å–∞–º–∏: —Å–µ—Ä–≤–µ—Ä–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ `api`, —Å–µ—Ä–≤—ñ—Å –¥–ª—è –±–∞–∑ –¥–∞–Ω–∏—Ö `api_db` —Ç–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.

## –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Docker Compose
- –î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É: `docker compose --version`

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

–ü—Ä–æ–µ–∫—Ç —Ä–æ–∑–¥—ñ–ª–µ–Ω–∏–π –Ω–∞ **3 –æ–∫—Ä–µ–º—ñ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó**:

### 1. –ì–æ–ª–æ–≤–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π (HelloDockerRealWorld)

```
HelloDockerRealWorld/
‚îú‚îÄ‚îÄ docker-compose.yml       # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
‚îú‚îÄ‚îÄ README.md                # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ docker-lab-3-frontend/                # Git submodule –∞–±–æ –∫–ª–æ–Ω–æ–≤–∞–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
‚îú‚îÄ‚îÄ docker-lab-3-api/                     # Git submodule –∞–±–æ –∫–ª–æ–Ω–æ–≤–∞–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
‚îî‚îÄ‚îÄ ...
```

### 2. Frontend —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π (docker-lab-3-frontend)

```
docker-lab-3-frontend/
‚îú‚îÄ‚îÄ index.html               # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îú‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è frontend
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ styles.css           # –°—Ç–∏–ª—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
‚îî‚îÄ‚îÄ js/                      # –ü—Ä–æ—Å—Ç–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥
    ‚îú‚îÄ‚îÄ app.js               # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
    ‚îú‚îÄ‚îÄ utils.js             # –£—Ç–∏–ª—ñ—Ç–∞—Ä–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
    ‚îî‚îÄ‚îÄ constants.js         # –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏
```

### 3. API —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π (docker-lab-3-api)

```
docker-lab-3-api/
‚îú‚îÄ‚îÄ Dockerfile               # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è Node.js
‚îú‚îÄ‚îÄ package.json             # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Node.js
‚îú‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app.js               # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ configuration/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js         # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.js          # –ú–æ–¥–µ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ   ‚îî‚îÄ‚îÄ routers/
‚îÇ       ‚îî‚îÄ‚îÄ user.js          # –ú–∞—Ä—à—Ä—É—Ç–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
```

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏

–ù–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ **3 –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤**:

1. **Frontend** (–ø–æ—Ä—Ç 8080) - –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

   - npx serve –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
   - HTML/CSS/JavaScript —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - –ü—Ä–æ–∫—Å—É–≤–∞–Ω–Ω—è API –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ backend

2. **API** (–ø–æ—Ä—Ç 3001) - –°–µ—Ä–≤–µ—Ä–Ω–∞ –ª–æ–≥—ñ–∫–∞

   - Node.js –∑ Express.js
   - REST API –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
   - –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB

3. **Database** - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
   - MongoDB –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

## Frontend –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –∑–∞ –ø—Ä–æ—Å—Ç–∏–º —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º –ø—ñ–¥—Ö–æ–¥–æ–º:

- **üì¶ ES6 Modules** - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –º–æ–¥—É–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **üîí Security** - XSS –∑–∞—Ö–∏—Å—Ç
- **‚ö° Performance** - –±–µ–∑ –∑–∞–π–≤–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π
- **üõ†Ô∏è Error Handling** - –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- **üì± Modern JS** - async/await, template literals

## –•—ñ–¥ —Ä–æ–±–æ—Ç–∏

### 1. –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ–≥–æ docker-compose.yml

–£ –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –ø–∞–ø—Ü—ñ –ø—Ä–æ–µ–∫—Ç—É —Å—Ç–≤–æ—Ä–µ–Ω–æ —Ñ–∞–π–ª `docker-compose.yml` –∑ —Ç–∞–∫–∏–º –≤–º—ñ—Å—Ç–æ–º:

```yaml
version: '3'
services:
  api:
    build: ./api
    command: npm start
    ports:
      - '3001:3001'
    environment:
      - PORT=3001
      - HOST=localhost
```

#### –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ Docker Compose

**–ü–æ–±—É–¥–æ–≤–∞ —ñ –∑–∞–ø—É—Å–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É:**

```bash
docker compose up -d
```

**–ü–µ—Ä–µ–±—É–¥–æ–≤–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É (–ø—ñ—Å–ª—è –∑–º—ñ–Ω –≤ API –∫–æ–¥—ñ):**

```bash
docker compose up --build -d
```

**–®–≤–∏–¥–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—ñ—Å–ª—è –∑–º—ñ–Ω –≤ frontend (–±–µ–∑ –ø–µ—Ä–µ–±—É–¥–æ–≤–∏):**

```bash
docker compose restart frontend
```

> **–ü—Ä–∏–º—ñ—Ç–∫–∞**: –ó–∞–≤–¥—è–∫–∏ volume –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—é, –∑–º—ñ–Ω–∏ –≤ frontend —Ñ–∞–π–ª–∞—Ö –≤—ñ–¥—Ä–∞–∑—É –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –±–µ–∑ –ø–µ—Ä–µ–±—É–¥–æ–≤–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

**–ü–µ—Ä–µ–≥–ª—è–¥ –ø—Ä–∞—Ü—é—é—á–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:**

```bash
docker ps -a
```

**–ó—É–ø–∏–Ω–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:**

```bash
docker compose stop
```

**–ó—É–ø–∏–Ω–∫–∞ —ñ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:**

```bash
docker compose down
```

### 2. –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ 3 - Docker Compose –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

#### –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤

**–û–ø—Ü—ñ—è 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –æ–∫—Ä–µ–º–æ**

```bash
# 1. –ö–ª–æ–Ω—É—î–º–æ –≥–æ–ª–æ–≤–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∑ docker-compose.yml
git clone https://github.com/victorchei/docker-lab-3-HelloDockerRealWorld.git
cd docker-lab-3-HelloDockerRealWorld

# 2. –ö–ª–æ–Ω—É—î–º–æ frontend —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/victorchei/docker-lab-3-frontend.git

# 3. –ö–ª–æ–Ω—É—î–º–æ API —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/victorchei/docker-lab-3-api.git
```

**–û–ø—Ü—ñ—è 2: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Git submodules (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)**

```bash
# 1. –ö–ª–æ–Ω—É—î–º–æ –≥–æ–ª–æ–≤–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone --recurse-submodules https://github.com/victorchei/docker-lab-3-HelloDockerRealWorld.git
cd docker-lab-3-HelloDockerRealWorld

# –Ø–∫—â–æ submodules –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
git submodule update --init --recursive
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø—Ä–æ–µ–∫—Ç—É:**

```bash
ls -la
# –ü–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏:
# - docker-compose.yml
# - README.md
# - frontend/ (–ø–∞–ø–∫–∞ –∑ frontend –∫–æ–¥–æ–º)
# - api/ (–ø–∞–ø–∫–∞ –∑ API –∫–æ–¥–æ–º)
```

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è docker-compose.yml –∑ —Ç—Ä—å–æ–º–∞ —Å–µ—Ä–≤—ñ—Å–∞–º–∏

```yaml
version: '3'
services:
  # Frontend —Å–µ—Ä–≤—ñ—Å (Node.js serve –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤)
  frontend:
    image: node:alpine
    working_dir: /app
    volumes:
      - ./docker-lab-3-frontend:/app
    command: npx serve -s . -l 8080
    ports:
      - '8080:8080'
    depends_on:
      - api

  # API —Å–µ—Ä–≤—ñ—Å (Node.js + Express)
  api:
    build: ./docker-lab-3-api
    command: npm start
    ports:
      - '3001:3001'
    environment:
      - PORT=3001
      - HOST=0.0.0.0
      - MONGO_URL=mongodb://api_db:27017/api
    depends_on:
      - api_db

  # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (MongoDB)
  api_db:
    image: mongo:latest
```

### 3. –ó–∞–ø—É—Å–∫ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

#### –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏

```bash
docker-compose up --build -d
```

#### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

**–î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (POST-–∑–∞–ø–∏—Ç):**

```bash
curl -X POST http://localhost:3001/users \
  -H "Content-Type: application/json" \
  -d '{"firstName": "Jane", "lastName": "Smith", "email": "jane@gmail.com"}'
```

**–û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (GET-–∑–∞–ø–∏—Ç):**

```bash
curl http://localhost:3001/users
```

#### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

**–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É:**

```
http://localhost:8080
```

–ù–∞ —Ü—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –≤–∏ –º–æ–∂–µ—Ç–µ:

- ‚úÖ –î–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
- üìã –ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- üîÑ –û–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- üé® –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è –∑—Ä—É—á–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

**–ê–±–æ –ø—Ä–∞—Ü—é–π—Ç–µ –Ω–∞–ø—Ä—è–º—É –∑ API:**

```
http://localhost:3001/users
```

### 4. –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–£ –∫–æ–¥—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è:

```javascript
const PORT = process.env.PORT;
const HOST = process.env.HOST;
const MONGO_URL = process.env.MONGO_URL;
```

### 5. –ü—Ä–∏–∫–ª–∞–¥–∏ —Ç–µ—Å—Ç–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

**–î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —á–µ—Ä–µ–∑ curl:**

```bash
# –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 1
curl -X POST http://localhost:3001/users \
  -H "Content-Type: application/json" \
  -d '{"firstName": "John", "lastName": "Doe", "email": "john@gmail.com"}'

# –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 2
curl -X POST http://localhost:3001/users \
  -H "Content-Type: application/json" \
  -d '{"firstName": "Jane", "lastName": "Smith", "email": "jane@gmail.com"}'

# –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 3
curl -X POST http://localhost:3001/users \
  -H "Content-Type: application/json" \
  -d '{"firstName": "Bob", "lastName": "Johnson", "email": "bob@gmail.com"}'
```

### 6. –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ `http://localhost:3001/users`, –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ JSON-–≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –º–∞—Å–∏–≤–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:

```json
[
  {
    "_id": "64862ee6f0d4ebd8f3c1ec7f",
    "firstName": "Jane",
    "lastName": "Smith",
    "email": "jane@gmail.com",
    "__v": 0
  },
  {
    "_id": "648633d1a300791bf151244e",
    "firstName": "John",
    "lastName": "Smith",
    "email": "john@gmail.com",
    "__v": 0
  }
]
```

## –ü–æ—è—Å–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### docker-compose.yml

- **frontend** - –≤–µ–±-—Å–µ—Ä–≤—ñ—Å –Ω–∞ –±–∞–∑—ñ Node.js Alpine –∑ `serve` –ø–∞–∫–µ—Ç–æ–º –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- **api** - –≤–µ–±-—Å–µ—Ä–≤—ñ—Å Node.js –∑ Express.js –¥–ª—è –æ–±—Ä–æ–±–∫–∏ API –∑–∞–ø–∏—Ç—ñ–≤ (–∑ Dockerfile)
- **api_db** - —Å–µ—Ä–≤—ñ—Å MongoDB –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–±–µ–∑ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏—Ö volumes)
- **depends_on** - –∑–∞–±–µ–∑–ø–µ—á—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤—ñ—Å—ñ–≤

### Frontend –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (Node.js + serve)

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **node:alpine** - –ª–µ–≥–∫–∏–π Node.js –æ–±—Ä–∞–∑
- –ú–æ–Ω—Ç—É—î –ø–∞–ø–∫—É `./frontend` –¥–æ `/app` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `npx serve` –¥–ª—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 8080 (—è–∫ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —Ç–∞–∫ —ñ –∑–∑–æ–≤–Ω—ñ)
- –ù–µ –ø–æ—Ç—Ä–µ–±—É—î –æ–∫—Ä–µ–º–æ–≥–æ Dockerfile - –≤—Å–µ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ docker-compose

### API –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (Node.js + Express)

- –ë—É–¥—É—î—Ç—å—Å—è –∑ –æ–∫—Ä–µ–º–æ–≥–æ Dockerfile –≤ –ø–∞–ø—Ü—ñ `./api`
- –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ—é `npm start`
- –ü—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ MongoDB —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `MONGO_URL`

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

- **PORT=3001** - –ø–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫—É API —Å–µ—Ä–≤–µ—Ä–∞
- **HOST=0.0.0.0** - —Ö–æ—Å—Ç –¥–ª—è –ø—Ä–∏–≤'—è–∑–∫–∏ (–¥–æ–∑–≤–æ–ª—è—î –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑ —ñ–Ω—à–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤)
- **MONGO_URL** - URL –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB
- **MONGO_INITDB_DATABASE=api** - —ñ–º'—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### –î–æ—Å—Ç—É–ø –¥–æ —Å–µ—Ä–≤—ñ—Å—ñ–≤

| –°–µ—Ä–≤—ñ—Å           | URL                         | –û–ø–∏—Å                                               |
| ---------------- | --------------------------- | -------------------------------------------------- |
| üåê **Frontend**  | http://localhost:8080       | –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞                          |
| üîó **API**       | http://localhost:3001       | REST API –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏                |
| üìä **API Users** | http://localhost:3001/users | –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (JSON)                         |
| üóÑÔ∏è **MongoDB**   | mongodb://localhost:27017   | –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (–¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏—à–µ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Docker –º–µ—Ä–µ–∂—ñ) |

## –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
docker-compose logs api
docker-compose logs api_db

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ–∫—Ä–µ–º–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
docker compose restart api

# –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —Ç–∞ –æ–±—Ä–∞–∑—ñ–≤
docker compose down --rmi all

# –ü–æ–≤–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —Ç–∞ –æ–±—Ä–∞–∑–∏)
docker compose down --rmi all
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø–æ—Ä—Ç–æ–º

–Ø–∫—â–æ –ø–æ—Ä—Ç 3001 –∑–∞–π–Ω—è—Ç–∏–π, –∑–º—ñ–Ω—ñ—Ç—å –π–æ–≥–æ –≤ `docker-compose.yml`:

```yaml
ports:
  - '3002:3001' # –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–æ—Ä—Ç 3002 –∑–∞–º—ñ—Å—Ç—å 3001
```

### –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ MongoDB

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ:

1. –°–µ—Ä–≤—ñ—Å `api_db` –∑–∞–ø—É—â–µ–Ω–∏–π: `docker-compose ps`
2. MongoDB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∞—Ü—é—î: `docker-compose logs api_db`
3. –ó–º—ñ–Ω–Ω–∞ `MONGO_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞

### –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–∏

```bash
# –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –∑—É–ø–∏–Ω–µ–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
docker container prune

# –í–∏–¥–∞–ª–∏—Ç–∏ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –æ–±—Ä–∞–∑–∏
docker image prune

# –í–∏–¥–∞–ª–∏—Ç–∏ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ç–æ–º–∏
docker volume prune
```

# docker-lab-3-HelloDockerRealWorld
